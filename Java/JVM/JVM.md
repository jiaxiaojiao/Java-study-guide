# Java 虚拟机
> Java Virtual Machine

## Java虚拟机的基本结构
1. 方法区 ： 类型的常量池、字段、方法信息、方法字节码。通常和永久区关联在一起。
2. Java堆 heap： 应用系统对象。所有线程共享，GC主要工作区间，新生代和老生代。
3. Java栈 stack： 帧栈。帧保存一个方法的局部变量，操作数栈，常量池指针。线程私有。

## 内存溢出的原因 Java.lang.outofmemory
1. JVM 内存过小。启动参数内存值设定的过小。
2. 程序不严密。死循环或循环产生过多重复的对象。
3. 产生了过多的垃圾。
4. 内存中加载的数据量过于庞大，如一次从数据库取出过多数据；
5. 集合类中有对对象的引用，使用完后未清空，使得JVM不能回收；
6. 使用的第三方软件中的BUG；

## Java程序初始化的顺序/原则
1. 静态对象（变量）优先于非静态对象（变量）初始化，其中，静态对象（变量）只初始化一次，而非静态对象（变量）可能会初始化多次。
2. 父类优先于子类进行初始化。
3. 按照成员变量的定义顺序进行初始化。即使变量定义散步于方法定义中，它们依然在任何方法（包括构造函数）被调用之前先初始化。

Java程序初始化工作可以在许多不同的代码库中来完成，执行顺序：

父类静态变量 --> 父类静态代码块 --> 子类静态变量 --> 子类静态代码块 --> 父类非静态变量 --> 父类非静态代码块 --> 父类构造函数 --> 子类非静态变量 --> 子类非静态代码块 --> 子类构造函数。

## JVM的内存结构和管理机制

## Java的类加载机制。类加载的主要步骤
1. 装载。根据查找路径找到相对应的class文件，然后导入。
2. 链接。检查 待加载的class文件的正确性，准备 给类中的静态变量分配存储空间，解析 将符号引用转换成直接引用。
3. 初始化。对静态变量和静态代码块执行初始化工作。

## JVM调优
## JVM原理



